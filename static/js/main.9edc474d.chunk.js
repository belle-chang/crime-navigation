(this["webpackJsonpcrime-navigation"]=this["webpackJsonpcrime-navigation"]||[]).push([[0],{11:function(e,t,i){},12:function(e,t,i){},15:function(e,t,i){"use strict";i.r(t);var o=i(0),n=i.n(o),c=i(4),r=i.n(c),a=(i(11),i(2)),s=(i(12),i(1)),l=i.n(s),u=i(5),d=i.n(u);i(14);l.a.accessToken="pk.eyJ1IjoiYW5hYmVsbGVjaGFuZyIsImEiOiJja20xZmVxNGYwMTRpMnJtemJ0M3podzFzIn0.punpaEzFpzG4kmbcpdtwUQ";var m=function(){var e=Object(o.useRef)(null),t=Object(o.useState)(-71.0799),i=Object(a.a)(t,2),c=i[0],r=i[1],s=Object(o.useState)(42.3083),u=Object(a.a)(s,2),m=u[0],f=u[1],p=Object(o.useState)(11.59),b=Object(a.a)(p,2),v=b[0],y=b[1];return Object(o.useEffect)((function(){var t=new l.a.Map({container:e.current,style:"mapbox://styles/mapbox/streets-v11",center:[c,m],zoom:v});t.on("load",(function(){t.addSource("crime-bos",{type:"geojson",data:"https://raw.githubusercontent.com/belle-chang/navi-crime/main/data/jsonformatter-2.json",cluster:!0,clusterMaxZoom:14,clusterRadius:50}),t.addLayer({id:"clusters",source:"crime-bos",type:"circle",filter:["has","point_count"],paint:{"circle-color":["step",["get","point_count"],"#51bbd6",25,"#f1f075",100,"#f28cb1"],"circle-radius":["step",["get","point_count"],20,25,30,100,40]},layout:{visibility:"visible"}}),t.addLayer({id:"cluster-count",type:"symbol",source:"crime-bos",filter:["has","point_count"],layout:{"text-field":"{point_count_abbreviated}","text-font":["DIN Offc Pro Medium","Arial Unicode MS Bold"],"text-size":12,visibility:"visible"}}),t.addLayer({id:"unclustered-point",type:"circle",source:"crime-bos",filter:["!",["has","point_count"]],paint:{"circle-color":"#11b4da","circle-radius":4,"circle-stroke-width":1,"circle-stroke-color":"#fff"},layout:{visibility:"visible"}}),t.addSource("crime-fw",{type:"geojson",data:"https://raw.githubusercontent.com/belle-chang/crime-navi/main/data/fw_final.json",cluster:!0,clusterMaxZoom:14,clusterRadius:50}),t.addLayer({id:"clusters-fw",source:"crime-fw",type:"circle",filter:["has","point_count"],paint:{"circle-color":["step",["get","point_count"],"#51bbd6",25,"#f1f075",100,"#f28cb1"],"circle-radius":["step",["get","point_count"],20,25,30,100,40]},layout:{visibility:"visible"}}),t.addLayer({id:"cluster-count-fw",type:"symbol",source:"crime-fw",filter:["has","point_count"],layout:{"text-field":"{point_count_abbreviated}","text-font":["DIN Offc Pro Medium","Arial Unicode MS Bold"],"text-size":12,visibility:"visible"}}),t.addLayer({id:"unclustered-point-fw",type:"circle",source:"crime-fw",filter:["!",["has","point_count"]],paint:{"circle-color":"#11b4da","circle-radius":4,"circle-stroke-width":1,"circle-stroke-color":"#fff"},layout:{visibility:"visible"}})})),t.addControl(new l.a.NavigationControl);var i=new d.a({accessToken:l.a.accessToken,unit:"metric",profile:"mapbox/driving"});t.addControl(i,"bottom-right"),t.on("move",(function(){r(t.getCenter().lng.toFixed(4)),f(t.getCenter().lat.toFixed(4)),y(t.getZoom().toFixed(2))}));var o={bos:["clusters","cluster-count","unclustered-point"],fw:["clusters-fw","cluster-count-fw","unclustered-point-fw"]},n=function(e){o.hasOwnProperty(e)&&(console.log(e,o[e]),(s=document.createElement("a")).href="#",s.className="active",s.textContent=e,s.onclick=function(i){for(var n in o[e]){var c=o[e][n];i.preventDefault(),i.stopPropagation(),"visible"===t.getLayoutProperty(c,"visibility")?(t.setLayoutProperty(c,"visibility","none"),this.className=""):(this.className="active",t.setLayoutProperty(c,"visibility","visible"))}},document.getElementById("menu").appendChild(s))};for(var a in o){var s;n(a)}return function(){return t.remove()}}),[]),n.a.createElement("div",null,n.a.createElement("nav",{id:"menu"}),n.a.createElement("div",{className:"sidebarStyle"},n.a.createElement("div",null,"Longitude: ",c," | Latitude: ",m," | Zoom: ",v)),n.a.createElement("div",{className:"map-container",ref:e}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(m,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},6:function(e,t,i){e.exports=i(15)}},[[6,1,2]]]);
//# sourceMappingURL=main.9edc474d.chunk.js.map