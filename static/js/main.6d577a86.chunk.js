(this["webpackJsonpcrime-navigation"]=this["webpackJsonpcrime-navigation"]||[]).push([[0],{11:function(e,t,o){},12:function(e,t,o){},15:function(e,t,o){"use strict";o.r(t);var n=o(0),a=o.n(n),i=o(4),r=o.n(i),c=(o(11),o(2)),s=(o(12),o(1)),l=o.n(s),u=o(5),d=o.n(u);o(14);l.a.accessToken="pk.eyJ1IjoiYW5hYmVsbGVjaGFuZyIsImEiOiJja20xZmVxNGYwMTRpMnJtemJ0M3podzFzIn0.punpaEzFpzG4kmbcpdtwUQ";var m=function(){fetch("https://route.ls.hereapi.com/routing/7.2/calculateroute.json?apiKey=dQsyJbZZS_IvjJSlSFFxt1tadvGuxoOzkxEn5wGTP80&waypoint0=geo!52.5184443440238,13.383906494396967&waypoint1=geo!52.51435421904425,13.396947378094524&mode=fastest;car;traffic:disabled&avoidareas=52.517100760,13.3905424488;52.5169701849,13.391808451!52.51623131288022,13.389888672738778;52.51335487996589,13.395274548440511!52.52006148651319,13.385160024545286;52.517760038213815,13.389707563495335").then((function(e){return e.json()})).then((function(e){return console.log("This is your data",e)}));var e=Object(n.useRef)(null),t=Object(n.useState)(-71.0799),o=Object(c.a)(t,2),i=o[0],r=o[1],s=Object(n.useState)(42.3083),u=Object(c.a)(s,2),m=u[0],p=u[1],f=Object(n.useState)(11.59),v=Object(c.a)(f,2),b=v[0],y=v[1];return Object(n.useEffect)((function(){var t=new l.a.Map({container:e.current,style:"mapbox://styles/mapbox/streets-v11",center:[i,m],zoom:b});t.on("load",(function(){for(var e=["bos","fw"],o=["https://raw.githubusercontent.com/belle-chang/navi-crime/main/data/jsonformatter-2.json","https://raw.githubusercontent.com/belle-chang/crime-navi/main/data/fw_final.json"],n=0;n<e.length;n++)t.addSource("crime-"+e[n],{type:"geojson",data:o[n],cluster:!0,clusterMaxZoom:14,clusterRadius:50}),t.addLayer({id:"clusters-"+e[n],source:"crime-"+e[n],type:"circle",filter:["has","point_count"],paint:{"circle-color":["step",["get","point_count"],"#ffb6ab",20,"#f5735f",50,"#b83e2c"],"circle-radius":["step",["get","point_count"],20,20,30,50,40]},layout:{visibility:"visible"}}),t.addLayer({id:"cluster-count-"+e[n],type:"symbol",source:"crime-"+e[n],filter:["has","point_count"],layout:{"text-field":"{point_count_abbreviated}","text-font":["DIN Offc Pro Medium","Arial Unicode MS Bold"],"text-size":12,visibility:"visible"}}),t.addLayer({id:"unclustered-point-"+e[n],type:"circle",source:"crime-"+e[n],filter:["!",["has","point_count"]],paint:{"circle-color":"#11b4da","circle-radius":4,"circle-stroke-width":1,"circle-stroke-color":"#fff"},layout:{visibility:"visible"}}),console.log(t.getStyle().layers)})),t.addControl(new l.a.NavigationControl);var o=new d.a({accessToken:l.a.accessToken,unit:"metric",profile:"mapbox/walking"});t.addControl(o,"top-left"),t.on("move",(function(){r(t.getCenter().lng.toFixed(4)),p(t.getCenter().lat.toFixed(4)),y(t.getZoom().toFixed(2))}));var n={Boston:["clusters-bos","cluster-count-bos","unclustered-point-bos"],"Fort Worth":["clusters-fw","cluster-count-fw","unclustered-point-fw"]},a=function(e){n.hasOwnProperty(e)&&(console.log(e,n[e]),(s=document.createElement("a")).href="#",s.className="active",s.textContent=e,s.onclick=function(o){for(var a in n[e]){var i=n[e][a];o.preventDefault(),o.stopPropagation(),"visible"===t.getLayoutProperty(i,"visibility")?(t.setLayoutProperty(i,"visibility","none"),this.className=""):(this.className="active",t.setLayoutProperty(i,"visibility","visible"))}},document.getElementById("menu").appendChild(s))};for(var c in n){var s;a(c)}return function(){return t.remove()}}),[]),a.a.createElement("div",null,a.a.createElement("nav",{id:"menu"},a.a.createElement("a",{id:"title",href:"#"},"Available Cities")),a.a.createElement("div",{className:"sidebarStyle"}),a.a.createElement("div",{className:"map-container",ref:e}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(m,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},6:function(e,t,o){e.exports=o(15)}},[[6,1,2]]]);
//# sourceMappingURL=main.6d577a86.chunk.js.map